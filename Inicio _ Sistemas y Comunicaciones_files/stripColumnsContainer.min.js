define("stripColumnsContainer",["react","lodash","core","santaProps","components","backgroundCommon"],function(i,e,t,o,r,n){"use strict";var s=t.compMixins,p={displayName:"StripColumnsContainer",mixins:[r.mediaCommon.mediaLogicMixins.fill,s.skinBasedComp,n.mixins.backgroundDetectionMixin,s.createChildComponentMixin],propTypes:{style:o.Types.Component.style.isRequired,isMeshLayoutMechanism:o.Types.Layout.isMeshLayoutMechanism,compProp:o.Types.Component.compProp,isMobileView:o.Types.isMobileView.isRequired,siteWidth:o.Types.siteWidth.isRequired,getScreenWidth:o.Types.getScreenWidth.isRequired,getScrollBarWidth:o.Types.getScrollBarWidth.isRequired,browser:o.Types.Browser.browser.isRequired,childrenData:o.Types.ColumnsContainer.childrenData.isRequired},statics:{useSantaTypes:!0,compSpecificIsDomOnlyOverride:function(){return!1},behaviors:r.mediaCommon.mediaBehaviors.fill},componentDidLayout:function(){var i=this.props.getScrollBarWidth(),e=this.props.getScreenWidth(),t=this.lastScrollBarWidth!==i,o=this.lastScreenWidth!==e;this.props.isMobileView||!t&&!o||(this.lastScrollBarWidth=i,this.lastScreenWidth=e,this.registerReLayout(),this.forceUpdate())},getDefaultSkinName:function(){return"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"},getMobileSkinProperties:function(){var e=this.props.compProp.rowMargin,t=i.Children.map(this.props.children,function(t){var o={position:"absolute",top:e,height:this.props.childrenData[t.props.id].height,left:0,width:320};e+=o.height+this.props.compProp.columnsMargin;return t=i.cloneElement(t,{rootStyle:o,bgStyle:{position:"absolute",overflow:"hidden",width:320,left:0,top:0,bottom:0}})},this);return{"":{tagName:"section",style:{height:e-this.props.compProp.columnsMargin+this.props.compProp.rowMargin}},background:this.createFillLayers(),inlineContent:{children:t}}},isScreenWidth:function(){return this.props.compProp.fullWidth},getDesktopRelativeSkinProperties:function(){var t=this.props,o=t.siteWidth,r=t.childrenData,n=t.children,s=t.style,p=t.isMeshLayoutMechanism,a=this.props.compProp,l=a.fullWidth,h=a.frameMargin,c=a.columnsMargin,d=a.siteMargin,m=a.rowMargin,u=e.size(this.props.children),g=o-2*d,y=o-2*h,f=y-c*(u-1),M=i.Children.map(n,function(i){var e=i.props;return r[e.id].width}),S=e.sum(M),v=e.map(M,function(i){return Math.round(i*f/S)});v[0]+=f-e.sum(v);var w=e.defaults({left:0,width:l?"100%":o+"px",minWidth:g+"px"},s),b=i.Children.map(n,function(e,t){var o=e.props.id,n=v[t],s=r[o],a=s.alignment,l=s.height,h={width:n,alignment:a/100},d={position:"relative",width:"100%",left:0,flex:n,marginLeft:t?c+"px":0,minWidth:n+"px",top:p?0:m,marginTop:p?m:0,marginBottom:p?m:0,height:l};return e=i.cloneElement(e,{rootStyle:d,contentArea:h})}),C={position:"absolute",left:0,right:0,width:"calc(100% - "+2*d+"px)",minWidth:o+"px"},W={position:"relative",width:"calc(100% - "+2*(d+h)+"px)",minWidth:y+"px"};return{"":{tagName:"section",style:w,"data-responsive":"true"},background:this.createFillLayers(e.assign({bgStyle:C},this.props)),inlineContent:{style:W,children:b}}},getMobileSkinPropertiesForMesh:function(){var e=this.props.compProp.rowMargin,t=i.Children.map(this.props.children,function(e,t){var o={position:"relative",marginBottom:t===this.props.children.length-1?0:this.props.compProp.columnsMargin};return e=i.cloneElement(e,{isMobileResponsive:!0,rootStyle:o,bgStyle:{position:"absolute",overflow:"hidden",width:320,left:0,top:0,bottom:0},inlineParentStyle:{position:"relative"},inlineStyle:{position:"relative"},containerStyle:{position:"relative"}})},this),o={padding:e+"px 0"};return{"":{tagName:"section","data-mobile-responsive":"true",style:{height:"auto"}},background:this.createFillLayers(),inlineContent:{style:o,children:t}}},getSkinProperties:function(){return this.props.isMobileView?this.props.isMeshLayoutMechanism?this.getMobileSkinPropertiesForMesh():this.getMobileSkinProperties():this.getDesktopRelativeSkinProperties()}};return t.compRegistrar.register("wysiwyg.viewer.components.StripColumnsContainer",p,!0),p});
//# sourceMappingURL=stripColumnsContainer.min.js.map